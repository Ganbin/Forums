model.Access.events.save = function() {	var access,		errorObj={error:0,errorMessage:''};			// Test if there is a forum and at least a group or a user	if(this.forum != null){		if(this.group != null && this.user == null){			if(this.isNew()){				access = ds.Access.find('group.ID = :1 and forum.ID = :2',this.group.ID,this.forum.ID);				if(access !== null){					errorObj.error = 21;					errorObj.errorMessage = 'The access for this group and this forum is already exist!';										return errorObj;				}			}					}else if(this.user != null && this.group == null){			if(this.isNew()){				access = ds.Access.find(' user.ID = :1 and forum.ID = :2',this.user.ID,this.forum.ID);								if(access !== null){					errorObj.error = 22;					errorObj.errorMessage = 'The access for this user and this forum is already exist!';					return errorObj;				}			}		}else{			errorObj.error = 23;			errorObj.errorMessage = 'You must have a group or a user (and not both) to create an access!';			return errorObj;		}	}else{		errorObj.error = 24;		errorObj.errorMessage = 'You must have a forum to create an access!';		return errorObj;	}			// A Moderator cannot have a restricted access	if(this.statut === 'Moderator' && this.restricted === true){		errorObj.error = 25;		errorObj.errorMessage = 'You cannot have a restricted acces for a Moderator!';		return errorObj;	}		// An access need at least the read right	if(this.action.read === false){		errorObj.error = 26;		errorObj.errorMessage = 'An access must have at least the read right!';		return errorObj;	}		// The statut is "Moderator" or "Member"	// This is specific to a forum	if(this.statut !== 'Moderator' && this.statut !== 'Member'){		errorObj.error = 27;		errorObj.errorMessage = 'The statut have to be "Member" or "Moderator". (Case sensitive)';	}	};model.Access.events.init = function() {	this.stamp = new Date();};